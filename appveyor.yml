os: Visual Studio 2017
version: 1.1.{build}
configuration: Release
init:
- ps: |
    if ($env:APPVEYOR_REPO_TAG -eq $true -and $env:APPVEYOR_REPO_TAG_NAME  -match "^\d+\.\d+\.\d+$")
    {
        $env:TaggedForRelease = $true
        Update-AppveyorBuild -Version "$env:APPVEYOR_REPO_TAG_NAME"
    }
before_build:
- dotnet --info
- dotnet restore
build_script:
- dotnet build -c %CONFIGURATION%
after_build:
- dotnet pack -c %CONFIGURATION% .\ClubHouse\ClubHouse.csproj -o .\artifacts
test: off
artifacts:
- path: .\ClubHouse\artifacts\**\*.*
deploy:
- provider: NuGet
  api_key:
    secure: Gerln5x/jQ3CsCjXe76zQuP2Rjh12sKBH2wj88LIpt1IQym1+6MlFVWmvx5j+KSw
  skip_symbols: false
  artifact: /.*\.nupkg/
  on:
    TaggedForRelease: true